{"ast":null,"code":"var _jsxFileName = \"/Users/vladimirgromozdin/Documents/dev/kupipodariday-frontend/src/components/app/app.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Header } from \"../header\";\nimport { Footer } from \"../footer\";\nimport { SignIn } from \"../sign-in\";\nimport { SignUp } from \"../sign-up\";\nimport { MainPage } from \"../main-page\";\nimport { ProfilePage } from \"../profile-page\";\nimport { UserPage } from \"../user-page\";\nimport { SearchPage } from \"../search-page\";\nimport { WishlistPage } from \"../wishlist-page\";\nimport { GiftPage } from \"../gift-page\";\nimport { getOwnUser } from \"../../utils/api\";\nimport { PrivateRoute } from \"../private-route\";\nimport { SearchBar } from \"../search-bar\";\nimport { UserContext } from \"../../utils/context\";\nimport styles from \"./app.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [userCtx, setUserCtx] = useState(null);\n  useEffect(() => {\n    if (sessionStorage.getItem(\"auth_token\")) {\n      getOwnUser().then(res => {\n        setUserCtx(res);\n      });\n    } else {\n      setUserCtx({});\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.app,\n    children: /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n      value: [userCtx, setUserCtx],\n      children: /*#__PURE__*/_jsxDEV(ApplicationView, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"XbNTS6bAfYOWo7zNEdkKFYf1MLw=\");\n\n_c = App;\n\nconst ApplicationView = () => {\n  _s2();\n\n  const [userCtx] = useContext(UserContext);\n  const [query, setQuery] = useState(\"\");\n  const [queryHits, setQueryHits] = useState({\n    query: \"\",\n    hits: []\n  });\n  const redirectTo = userCtx && userCtx.id ? \"/gifts/line\" : \"/signin\";\n\n  const changeQuery = e => {\n    setQuery(e.target.value);\n  };\n\n  if (!userCtx) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.content,\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          children: /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          children: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/search\",\n          children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n            query: query,\n            changeQuery: changeQuery,\n            setQueryHits: setQueryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SearchPage, {\n            query: query,\n            queryHits: queryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/gifts\",\n          children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n            query: query,\n            changeQuery: changeQuery,\n            setQueryHits: setQueryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MainPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/profile\",\n          children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n            query: query,\n            changeQuery: changeQuery,\n            setQueryHits: setQueryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProfilePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/users/:username\",\n          children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n            query: query,\n            changeQuery: changeQuery,\n            setQueryHits: setQueryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/wishlist\",\n          children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n            query: query,\n            changeQuery: changeQuery,\n            setQueryHits: setQueryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(WishlistPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/gift/:id\",\n          children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n            query: query,\n            changeQuery: changeQuery,\n            setQueryHits: setQueryHits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GiftPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          exact: true,\n          from: \"/\",\n          to: redirectTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ApplicationView, \"6qYGadI04I+F69OCRtiWZIcbSv8=\");\n\n_c2 = ApplicationView;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"ApplicationView\");","map":{"version":3,"sources":["/Users/vladimirgromozdin/Documents/dev/kupipodariday-frontend/src/components/app/app.js"],"names":["useState","useEffect","useContext","BrowserRouter","Route","Switch","Redirect","Header","Footer","SignIn","SignUp","MainPage","ProfilePage","UserPage","SearchPage","WishlistPage","GiftPage","getOwnUser","PrivateRoute","SearchBar","UserContext","styles","App","userCtx","setUserCtx","sessionStorage","getItem","then","res","app","ApplicationView","query","setQuery","queryHits","setQueryHits","hits","redirectTo","id","changeQuery","e","target","value","content"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport { Header } from \"../header\";\nimport { Footer } from \"../footer\";\nimport { SignIn } from \"../sign-in\";\nimport { SignUp } from \"../sign-up\";\nimport { MainPage } from \"../main-page\";\nimport { ProfilePage } from \"../profile-page\";\nimport { UserPage } from \"../user-page\";\nimport { SearchPage } from \"../search-page\";\nimport { WishlistPage } from \"../wishlist-page\";\nimport { GiftPage } from \"../gift-page\";\nimport { getOwnUser } from \"../../utils/api\";\nimport { PrivateRoute } from \"../private-route\";\nimport { SearchBar } from \"../search-bar\";\n\nimport { UserContext } from \"../../utils/context\";\n\nimport styles from \"./app.module.css\";\n\nfunction App() {\n  const [userCtx, setUserCtx] = useState(null);\n\n  useEffect(() => {\n    if (sessionStorage.getItem(\"auth_token\")) {\n      getOwnUser().then((res) => {\n        setUserCtx(res);\n      });\n    } else {\n      setUserCtx({});\n    }\n  }, []);\n\n  return (\n    <div className={styles.app}>\n      <UserContext.Provider value={[userCtx, setUserCtx]}>\n        <ApplicationView />\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nconst ApplicationView = () => {\n  const [userCtx] = useContext(UserContext);\n  const [query, setQuery] = useState(\"\");\n  const [queryHits, setQueryHits] = useState({\n    query: \"\",\n    hits: [],\n  });\n\n  const redirectTo = userCtx && userCtx.id ? \"/gifts/line\" : \"/signin\";\n\n  const changeQuery = (e) => {\n    setQuery(e.target.value);\n  };\n\n  if (!userCtx) {\n    return <></>;\n  }\n\n  return (\n    <BrowserRouter>\n      <Header />\n      <main className={styles.content}>\n        <Switch>\n          <Route path=\"/signin\">\n            <SignIn />\n          </Route>\n          <Route path=\"/signup\">\n            <SignUp />\n          </Route>\n          <PrivateRoute path=\"/search\">\n            <SearchBar\n              query={query}\n              changeQuery={changeQuery}\n              setQueryHits={setQueryHits}\n            />\n            <SearchPage query={query} queryHits={queryHits} />\n          </PrivateRoute>\n          <PrivateRoute path=\"/gifts\">\n            <SearchBar\n              query={query}\n              changeQuery={changeQuery}\n              setQueryHits={setQueryHits}\n            />\n            <MainPage />\n          </PrivateRoute>\n          <PrivateRoute path=\"/profile\">\n            <SearchBar\n              query={query}\n              changeQuery={changeQuery}\n              setQueryHits={setQueryHits}\n            />\n            <ProfilePage />\n          </PrivateRoute>\n          <PrivateRoute path=\"/users/:username\">\n            <SearchBar\n              query={query}\n              changeQuery={changeQuery}\n              setQueryHits={setQueryHits}\n            />\n            <UserPage />\n          </PrivateRoute>\n          <PrivateRoute path=\"/wishlist\">\n            <SearchBar\n              query={query}\n              changeQuery={changeQuery}\n              setQueryHits={setQueryHits}\n            />\n            <WishlistPage />\n          </PrivateRoute>\n          <PrivateRoute path=\"/gift/:id\">\n            <SearchBar\n              query={query}\n              changeQuery={changeQuery}\n              setQueryHits={setQueryHits}\n            />\n            <GiftPage />\n          </PrivateRoute>\n          <Redirect exact from=\"/\" to={redirectTo} />\n        </Switch>\n      </main>\n      <Footer />\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}