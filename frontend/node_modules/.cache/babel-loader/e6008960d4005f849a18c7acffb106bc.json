{"ast":null,"code":"import _slicedToArray from\"/Users/vladimirgromozdin/Documents/dev/deploy-kupipodariday/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{ButtonReturn}from\"../ui\";import{GoodCard}from\"../good-card\";import{getAnotherUser,getAnotherUserWishes,getOwnWishes}from\"../../utils/api\";import{findOwnedIds}from\"../../utils/functions\";import styles from\"./user-page.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserPage=function UserPage(_ref){var _ref$extraClass=_ref.extraClass,extraClass=_ref$extraClass===void 0?\"\":_ref$extraClass;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),anotherUser=_useState2[0],setAnotherUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),anotherUserWishes=_useState4[0],setAnotherUserWishes=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),myWishes=_useState6[0],setMyWishes=_useState6[1];var alreadyOwnWishesId=findOwnedIds(myWishes,anotherUserWishes);var _useParams=useParams(),username=_useParams.username;useEffect(function(){if(!username)return;Promise.all([getAnotherUserWishes(username),getAnotherUser(username),getOwnWishes()]).then(function(values){var _values=_slicedToArray(values,3),wishes=_values[0],profileInfo=_values[1],myWishes=_values[2];setAnotherUser(profileInfo);setAnotherUserWishes(wishes);setMyWishes(myWishes);});},[username]);return/*#__PURE__*/_jsxs(\"section\",{className:\"\".concat(styles.content,\" \").concat(extraClass),children:[/*#__PURE__*/_jsx(ButtonReturn,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"text text_type_h1 text_color_primary mb-16 \".concat(styles.title),children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C: \".concat(anotherUser===null||anotherUser===void 0?void 0:anotherUser.username,\" \")}),/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main text_color_primary mb-16 \".concat(styles.description),children:\"\\u041E\\u0431\\u043E \\u043C\\u043D\\u0435: \".concat((anotherUser===null||anotherUser===void 0?void 0:anotherUser.about)||\"ничего неизвестно\")}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cards,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text text_type_h2 text_color_primary \".concat(styles.title),children:\"\\u0412\\u0438\\u0448\\u043B\\u0438\\u0441\\u0442 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.cards_box,children:anotherUserWishes===null||anotherUserWishes===void 0?void 0:anotherUserWishes.map(function(_ref2){var price=_ref2.price,name=_ref2.name,raised=_ref2.raised,image=_ref2.image,link=_ref2.link,id=_ref2.id;return/*#__PURE__*/_jsx(GoodCard,{id:id,price:price,name:name,current:raised,img:image,link:link,isOwn:alreadyOwnWishesId.includes(id)},id);})})]})]});};","map":{"version":3,"sources":["/Users/vladimirgromozdin/Documents/dev/deploy-kupipodariday/frontend/src/components/user-page/user-page.jsx"],"names":["useState","useEffect","useParams","ButtonReturn","GoodCard","getAnotherUser","getAnotherUserWishes","getOwnWishes","findOwnedIds","styles","UserPage","extraClass","anotherUser","setAnotherUser","anotherUserWishes","setAnotherUserWishes","myWishes","setMyWishes","alreadyOwnWishesId","username","Promise","all","then","values","wishes","profileInfo","content","title","description","about","cards","cards_box","map","price","name","raised","image","link","id","includes"],"mappings":"0JAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,OAASC,YAAT,KAA6B,OAA7B,CACA,OAASC,QAAT,KAAyB,cAAzB,CAEA,OACEC,cADF,CAEEC,oBAFF,CAGEC,YAHF,KAIO,iBAJP,CAMA,OAASC,YAAT,KAA6B,uBAA7B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,C,wFAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAyB,0BAAtBC,UAAsB,CAAtBA,UAAsB,0BAAT,EAAS,iBAC/C,cAAsCX,QAAQ,CAAC,EAAD,CAA9C,wCAAOY,WAAP,eAAoBC,cAApB,eACA,eAAkDb,QAAQ,CAAC,EAAD,CAA1D,yCAAOc,iBAAP,eAA0BC,oBAA1B,eACA,eAAgCf,QAAQ,CAAC,EAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,kBAAkB,CAAGV,YAAY,CAACQ,QAAD,CAAWF,iBAAX,CAAvC,CAEA,eAAqBZ,SAAS,EAA9B,CAAQiB,QAAR,YAAQA,QAAR,CAEAlB,SAAS,CAAC,UAAM,CACd,GAAI,CAACkB,QAAL,CAAe,OACfC,OAAO,CAACC,GAAR,CAAY,CACVf,oBAAoB,CAACa,QAAD,CADV,CAEVd,cAAc,CAACc,QAAD,CAFJ,CAGVZ,YAAY,EAHF,CAAZ,EAIGe,IAJH,CAIQ,SAACC,MAAD,CAAY,CAClB,2BAAwCA,MAAxC,IAAOC,MAAP,YAAeC,WAAf,YAA4BT,QAA5B,YACAH,cAAc,CAACY,WAAD,CAAd,CACAV,oBAAoB,CAACS,MAAD,CAApB,CACAP,WAAW,CAACD,QAAD,CAAX,CACD,CATD,EAUD,CAZQ,CAYN,CAACG,QAAD,CAZM,CAAT,CAcA,mBACE,iBAAS,SAAS,WAAKV,MAAM,CAACiB,OAAZ,aAAuBf,UAAvB,CAAlB,wBACE,KAAC,YAAD,IADF,cAEE,WACE,SAAS,sDAAgDF,MAAM,CAACkB,KAAvD,CADX,8FAGoBf,WAHpB,SAGoBA,WAHpB,iBAGoBA,WAAW,CAAEO,QAHjC,OAFF,cAQE,UACE,SAAS,wDAAkDV,MAAM,CAACmB,WAAzD,CADX,2DAGe,CAAAhB,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAEiB,KAAb,GAAsB,mBAHrC,GARF,cAaE,aAAK,SAAS,CAAEpB,MAAM,CAACqB,KAAvB,wBACE,WAAI,SAAS,gDAA0CrB,MAAM,CAACkB,KAAjD,CAAb,kIADF,cAIE,YAAK,SAAS,CAAElB,MAAM,CAACsB,SAAvB,UACGjB,iBADH,SACGA,iBADH,iBACGA,iBAAiB,CAAEkB,GAAnB,CACC,eAA8C,IAA3CC,CAAAA,KAA2C,OAA3CA,KAA2C,CAApCC,IAAoC,OAApCA,IAAoC,CAA9BC,MAA8B,OAA9BA,MAA8B,CAAtBC,KAAsB,OAAtBA,KAAsB,CAAfC,IAAe,OAAfA,IAAe,CAATC,EAAS,OAATA,EAAS,CAC5C,mBACE,KAAC,QAAD,EAEE,EAAE,CAAEA,EAFN,CAGE,KAAK,CAAEL,KAHT,CAIE,IAAI,CAAEC,IAJR,CAKE,OAAO,CAAEC,MALX,CAME,GAAG,CAAEC,KANP,CAOE,IAAI,CAAEC,IAPR,CAQE,KAAK,CAAEnB,kBAAkB,CAACqB,QAAnB,CAA4BD,EAA5B,CART,EACOA,EADP,CADF,CAYD,CAdF,CADH,EAJF,GAbF,GADF,CAuCD,CA9DM","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { ButtonReturn } from \"../ui\";\nimport { GoodCard } from \"../good-card\";\n\nimport {\n  getAnotherUser,\n  getAnotherUserWishes,\n  getOwnWishes,\n} from \"../../utils/api\";\n\nimport { findOwnedIds } from \"../../utils/functions\";\n\nimport styles from \"./user-page.module.css\";\n\nexport const UserPage = ({ extraClass = \"\" }) => {\n  const [anotherUser, setAnotherUser] = useState({});\n  const [anotherUserWishes, setAnotherUserWishes] = useState([]);\n  const [myWishes, setMyWishes] = useState([]);\n\n  const alreadyOwnWishesId = findOwnedIds(myWishes, anotherUserWishes);\n\n  const { username } = useParams();\n\n  useEffect(() => {\n    if (!username) return;\n    Promise.all([\n      getAnotherUserWishes(username),\n      getAnotherUser(username),\n      getOwnWishes(),\n    ]).then((values) => {\n      const [wishes, profileInfo, myWishes] = values;\n      setAnotherUser(profileInfo);\n      setAnotherUserWishes(wishes);\n      setMyWishes(myWishes);\n    });\n  }, [username]);\n\n  return (\n    <section className={`${styles.content} ${extraClass}`}>\n      <ButtonReturn />\n      <h1\n        className={`text text_type_h1 text_color_primary mb-16 ${styles.title}`}\n      >\n        {`Пользователь: ${anotherUser?.username} `}\n      </h1>\n\n      <p\n        className={`text text_type_main text_color_primary mb-16 ${styles.description}`}\n      >\n        {`Обо мне: ${anotherUser?.about || \"ничего неизвестно\"}`}\n      </p>\n      <div className={styles.cards}>\n        <h2 className={`text text_type_h2 text_color_primary ${styles.title}`}>\n          Вишлист пользователя:\n        </h2>\n        <div className={styles.cards_box}>\n          {anotherUserWishes?.map(\n            ({ price, name, raised, image, link, id }) => {\n              return (\n                <GoodCard\n                  key={id}\n                  id={id}\n                  price={price}\n                  name={name}\n                  current={raised}\n                  img={image}\n                  link={link}\n                  isOwn={alreadyOwnWishesId.includes(id)}\n                />\n              );\n            }\n          )}\n        </div>\n      </div>\n    </section>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}